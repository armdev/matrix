<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="title">Profile</ui:define>

    <ui:param name="viewname" value="Profile" />


    <ui:define name="content">
        <p:growl/>

        <h:form id="updateprofile" enctype="multipart/form-data" prependId="false" >
            <div class="p-grid">
                <div class="p-col-12 p-md-6">
                    <div class="card ui-fluid">


                        <div class="p-col-12">
                            <div class="card card-w-title">
                                <div class="p-grid">
                                    <div class="p-col-12 p-md-6">
                                        <h1>#{i18n.profileupdate}</h1>                              
                                        <p:growl id="messages" showDetail="true" life="2000" />
                                    </div>
                                    <div class="p-col-12 p-md-6">

                                    </div>


                                    <div class="p-col-12 p-md-6">
                                        <p:outputLabel  for="name" value="Name" style="font-weight: bold;"/>
                                        <p:inputText id="name" placeholder="First name" title="name" required="true" requiredMessage="#{i18n.mandatory}"
                                                     value="#{profileBean.userModel.name}">                                       
                                            <f:validateRequired/>
                                            <f:validateLength maximum="100"/>                            
                                        </p:inputText> 
                                    </div>

                               

                                    <div class="p-col-12 p-md-6">
                                        <p:outputLabel   for="mail" value="E-mail" style="font-weight: bold;"/>
                                        <p:inputText placeholder="#{i18n.email}" id="mail" title="#{i18n.email}" required="true" requiredMessage="#{i18n.mandatory}" readonly="false"
                                                     value="#{profileBean.userModel.email}">                                       
                                            <f:validateRequired/>
                                            <f:validateLength maximum="100"/>                            
                                        </p:inputText>
                                    </div>

                                 
                                   

                                    <div class="p-col-12 p-md-6">

                                    </div>

                                    <div class="p-col-12 p-md-6">
                                        <p:commandButton type="submit" ajax="false" icon="fa fa-save" value="#{i18n.save}" action="#{profileBean.updateProfile()}"/>
                                    </div>

                                </div>
                            </div>
                        </div>


                    </div>
                </div>

                <div class="p-col-12 p-lg-4">

                    <div class="p-grid">

                        <div class="p-col-12">
                            <div class="card card-w-title">
                                <div class="p-grid" style="margin-left:10%;">
                                    <div class="p-col-12 p-md-12">

                                    </div>

                                    <div class="p-col-12 p-md-12">
                                        <p:graphicImage url="/PreviewImage?fileId=#{sessionContext.avatarId}"
                                                        rendered="#{sessionContext.avatarId != null}"
                                                        />

                                    </div>


                                    <div class="p-col-12 p-md-12"> 
                                        <p:graphicImage value="/resources/male.jpeg"
                                                        rendered="#{sessionContext.avatarId == null}"
                                                        width="120px" height="120px"/>
                                    </div>
                                    <div class="p-col-12 p-md-12"></div>
                                    <div class="p-col-12 p-md-12"></div>

                                    <div class="p-col-12 p-md-12"> 
                                        <h:inputFile   value="#{fileUploadBean.uploadedFile}"/>  
                                    </div>

                                    <div class="p-col-12 p-md-6">
                                        <p:commandButton type="submit"  ajax="false" value="#{i18n.upload}" action="#{fileUploadBean.doAction()}"  />
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>



        </h:form>


    </ui:define>
</ui:composition>
